<div class="f-contenedor-transaccion">
	<div class="f-acciones-cabecera ui-g ui-fluid">
		<acciones-cabecera [componente]="componentehijo" [cargar]="true" [grabar]="false" ></acciones-cabecera>
	</div>

	<form #formFiltros="ngForm" class="f-filtros ui-g ui-fluid shadow-box ui-shadow-1">
		<div class="ui-g-12 ui-md-1">
			<label class="ui-outputlabel ">Módulos</label>
		</div>
		<div class="ui-g-12 ui-md-3">
			<p-dropdown id="cmodulo" name="cmodulo" [options]="lmodulos" [(ngModel)]="mfiltros.cmodulo" [filter]="true" (onChange)="cambiarModulo()" ></p-dropdown>
		</div>
	</form>
</div>

<div class="f-datacontent ui-g ui-fluid">
	<div class="ui-g-12 ui-g-nopad">
		<p-dataTable [value]="lregistros" [responsive]="true" scrollable="true" [resizableColumns]="false" scrollHeight="250px" columnResizeMode="expand"
		 [(selection)]="selectedRegistros">
			<p-header>
				<div class="ui-table-title">Buzón de aprobaciones presupuestarias</div>
				<acciones-consulta [componente]="componentehijo" [anterior]="true" [siguiente]="true"></acciones-consulta>
			</p-header>
			<p-column field="ccomprobante" header="Sec. Contable" [style]="{'width':'80px'}" 
			[filter]="true" filterPlaceholder="Filtrar" ></p-column>
			<p-column field="numerocomprobantecesantia" hidden="false" header="No. comprobante" [style]="{'width':'100px'}"></p-column>
			<p-column field="fcontable" header="F.contable" [style]="{'width':'80px'}" 
			[filter]="true" filterPlaceholder="Filtrar"></p-column>
			<p-column field="particion" header="particion" hidden="false" [style]="{'width':'60px'}"></p-column>			
			<p-column field="ccompania" header="ccompania" hidden="false" [style]="{'width':'100px'}"></p-column>			
			<p-column field="mdatos.nconcepto" header="Concepto" [style]="{'width':'60px'}"
			[filter]="true" filterPlaceholder="Filtrar" ></p-column>
			<p-column field="mdatos.nbeneficiario" header="Beneficiario" [style]="{'width':'160px'}"
			[filter]="true" filterPlaceholder="Contiene" filterMatchMode="contains"></p-column>		
			<p-column field="cusuarioing" header="Usuario" [style]="{'width':'80px'}"
			[filter]="true" filterPlaceholder="Filtrar" ></p-column>				
			<p-column field="comentario" header="Comentario" [style]="{'width':'350px'}" 
			[filter]="true" filterPlaceholder="Contiene" filterMatchMode="contains">
			</p-column>
			<p-column header="Acciones" [style]="{'width':'50px'}">
				<ng-template pTemplate="body" let-reg="rowData">
					<div class="f-table-actions">
						<button type="button" pButton icon="ui-icon-forward" (click)="IrAComprobanteContable(reg)" icon="ui-icon-forward"  pTooltip="Ir a comprobante contable" tooltipPosition="top">
						</button>
					</div>					
				</ng-template>
			</p-column>
		</p-dataTable>
	</div>
</div>

<p-dialog header="Comentario" [(visible)]="comportamiento" modal="modal" width="300" [responsive]="true">
	<div class="ui-g-12 ui-md-9 reg-details">
		<div class="ui-g">
			<div class="ui-g-10 ui-sm-6">{{mcampos.comentario}}</div>
		</div>
	</div>
	<p-footer>
		<button type="button" pButton icon="fa-check" (click)="comportamiento=false" label="Aceptar"></button>
	</p-footer>
</p-dialog>