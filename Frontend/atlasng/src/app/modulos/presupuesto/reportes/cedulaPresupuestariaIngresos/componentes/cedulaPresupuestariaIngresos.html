<div class="f-acciones-cabecera ui-g ui-fluid">
	<acciones-cabecera [componente]="componentehijo" [grabar]="false" [cargar]="true"></acciones-cabecera>
</div>

<div class="f-datacontent ui-g ui-fluid f-center-items">
	<div class="ui-g-12 ui-md-8 ui-lg-4 ui-g-nopad ui-datatable ui-datatable-header">
		<p-header>
			<div class="ui-table-title">Generar Reporte</div>
			<div class="f-acciones-cab-tabla">

				<button type="button" pButton icon="ui-icon-delete-forever" (click)="descargarReporte('pdf')" class="f-btn green-btn f-pdf"
					style="text-align:center">
				</button>

				<button type="button" pButton icon="ui-icon-delete-forever" (click)="descargarReporte('xls')" class="f-btn green-btn f-excel"
					style="text-align:center">
				</button>
			</div>
			<div class="ui-g-12" style='display:none'>
				<app-jasper [componente]="componentehijo" [formulario]="formFiltros"></app-jasper>
			</div>
		</p-header>
	</div>
</div>


<div class="f-contenedor-transaccion">
	<div class="f-datacontent ui-g ui-fluid">
		<div class="ui-g-12 ui-g-nopad">
			<p-dataTable [value]="lregistros" (onFilter)="calcularTotales($event.filteredValue)" [responsive]="true" scrollable="true" scrollHeight="250px" [resizableColumns]="false">
				<p-header>
					<div class="ui-table-title">Cédula Presupuestaria de Ingresos</div>
					<acciones-consulta [componente]="componentehijo" [anterior]="true" [siguiente]="true"></acciones-consulta>
				</p-header>
				<p-column field="Codigo" header="Código" [filter]="true" filterPlaceholder="Filtrar" [style]="{'width': '50px'}">
				</p-column>
				<p-column field="Nombre" header="Nombre" [filter]="true" filterPlaceholder="Filtrar" filterMatchMode="contains" [style]="{'width':'255px'}"></p-column>
				<p-column field="movimiento" header="Mov" [style]="{'width':'35px'}"></p-column>
				<p-column field="NumeroMeses" header="Meses" [style]="{'width':'35px'}" styleClass="f-center"></p-column>
				<p-column field="ValorMensual" header="Valor Mensual" [style]="{'width':'110px'}" styleClass="f-right">
					<ng-template pTemplate="body" let-reg="rowData">
						{{ reg.ValorMensual | number:'1.2-2'}}
					</ng-template>
				</p-column>

				<p-column field="MontoTotal" header="Monto Total" [style]="{'width':'120px'}" styleClass="f-right">
					<ng-template pTemplate="body" let-reg="rowData">
						{{ reg.MontoTotal | number:'1.2-2'}}
					</ng-template>
				</p-column>
				<p-column field="ValorDevengado" header="Recaudado" [style]="{'width':'120px'}" styleClass="f-right">
					<ng-template pTemplate="body" let-reg="rowData">
						{{ reg.Devengado | number:'1.2-2'}}
					</ng-template>
				</p-column>

				<p-column field="SaldoXDevengar" header="Saldo Por Recaudar" [style]="{'width':'120px'}" styleClass="f-right">
					<ng-template pTemplate="body" let-reg="rowData">
						{{ reg.SaldoXDevengar | number:'1.2-2'}}
					</ng-template>
				</p-column>
				<p-column field="porcenparticipacion" header="% part" [style]="{'width':'50px'}" styleClass="f-right">
					<ng-template pTemplate="body" let-reg="rowData">
						{{ reg.porcenparticipacion | number:'1.2-2'}}
					</ng-template>
				</p-column>
				<p-column field="porcenejecucion" header="% ejec" [style]="{'width':'50px'}" styleClass="f-right">
					<ng-template pTemplate="body" let-reg="rowData">
						{{ reg.porcenejecucion | number:'1.2-2'}}
					</ng-template>
				</p-column>								

				<p-footerColumnGroup style="color:blue;">

					<p-row>
						<p-column footer="Totales" [style]="{'color':'blue','font-size':'12px','width':'90px'}"></p-column>
						<p-column [footer]="montoTotal | number : '1.2-2'" [style]="{'color':'blue','text-align':'right','font-size':'12px','width':'20px'}"></p-column>
						<p-column [footer]="devengadoTotal | number : '1.2-2'" [style]="{'color':'blue','text-align':'right','font-size':'12px','width':'20px'}"></p-column>
						<p-column [footer]="total | number : '1.2-2'" [style]="{'color':'blue','text-align':'right','font-size':'12px','width':'20px'}"></p-column>
						<p-column [footer]="totalporcenparticipacion | number : '1.2-2'" [style]="{'color':'blue','text-align':'right','font-size':'12px','width':'4px'}"></p-column>
						<p-column [footer]="totalporcenejecucion | number : '1.2-2'" [style]="{'color':'blue','text-align':'right','font-size':'12px','width':'4px'}"></p-column>						
					</p-row>

				</p-footerColumnGroup>

			</p-dataTable>
		</div>
	</div>
</div>