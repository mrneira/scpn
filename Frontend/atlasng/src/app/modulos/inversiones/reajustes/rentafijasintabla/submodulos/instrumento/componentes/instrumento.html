<form #formularioUsuario="ngForm" class="f-filtros ui-g ui-fluid shadow-box ui-shadow-1">
  <p-accordion [multiple]="true">
    <p-accordionTab header="Instrumento">
      <div class="f-contenedor-transaccion">
        <div class="f-datacontent ui-g ui-fluid">

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="codigotitulo" class="ui-outputlabel f-bold" style="font-size:11px">{{this.pCodigoTitulo}}</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id="codigotitulo" name="codigotitulo" [(ngModel)]="this.pInstrumento[0].codigotitulo" maxlength="30"
                [disabled]="pEditable == 0" class="f-bold" style="font-size:11px" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="numerocontrato" class="ui-outputlabel">Número Contrato</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id="numerocontrato" name="numerocontrato" [(ngModel)]="this.pInstrumento[0].numerocontrato"
                maxlength="20" [disabled]="pEditable == 0" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="mercadotipocdetalle" class="ui-outputlabel required">Mercado</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="mercadotipocdetalle" name="mercadotipocdetalle" [options]="this.inversionesServicios.ptMercado" [(ngModel)]="this.inversionesServicios.pMercadotipocdetalle"
                required [disabled]="pEditable == 0"></p-dropdown>
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="sistemacolocacioncdetalle" class="ui-outputlabel required">Sistema de Colocación</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="sistemacolocacioncdetalle" name="sistemacolocacioncdetalle" [options]="this.inversionesServicios.ptSistemaColocacion"
                [(ngModel)]="this.inversionesServicios.pSistemacolocacioncdetalle" required [disabled]="pEditable == 0"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="emisorcdetalle" class="ui-outputlabel required">Emisor</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="emisorcdetalle" name="emisorcdetalle" [options]="this.inversionesServicios.ptEmisor" [(ngModel)]="this.inversionesServicios.pEmisorcdetalle"
                required [disabled]="pEditable == 0" [filter]="true" (ngModelChange)="this.contabilizaEmisor()"></p-dropdown>
            </div>
            <span *ngIf="this.inversionesServicios.pInstrumentocdetalle == 'FACCO'">
                <div class="ui-g-12 ui-md-1">
                  <label for="emisorNuevocdetalle" class="ui-outputlabel required">Emisor</label>
                </div>
                <div class="ui-g-12 ui-md-3">
                  <p-dropdown id="aceptantecdetalle" name="aceptantecdetalle" [options]="this.inversionesServicios.ptEmisor"
                    [(ngModel)]="this.inversionesServicios.pEmisorcdetalleNuevo" required [disabled]="pEditable == 0"
                    [filter]="true" ></p-dropdown>
                </div>
                </span>

            <div class="ui-g-12 ui-md-1">
              <label for="instrumentocdetalle" class="ui-outputlabel required" *ngIf="this.pTasaclasificacioncdetalle != 'FIJA'">Instrumento</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="instrumentocdetalle" name="instrumentocdetalle" [options]="this.inversionesServicios.ptInstrumento" [(ngModel)]="inversionesServicios.pInstrumentocdetalle"
                required [disabled]="pEditable == 0" *ngIf="this.pTasaclasificacioncdetalle != 'FIJA'"></p-dropdown>
            </div>

          </div>


          <div class="ui-g-12 ui-g-nopad">

       


            <div class="ui-g-12 ui-md-1">
              <label for="monedacdetalle" class="ui-outputlabel required">Moneda</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="monedacdetalle" name="monedacdetalle" [options]="this.inversionesServicios.ptMoneda" [(ngModel)]="this.inversionesServicios.pMonedacdetalle"
                required [disabled]="pEditable == 0"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="cotizacion" class="ui-outputlabel ">Cotización</label>
            </div>
            <div class="ui-g-12 ui-md-2">
              <input type="text" pInputText id=cotizacion name="cotizacion" [(ngModel)]="this.inversionesServicios.pCotizacion" numeroDecimal7
                maxlength="14" [disabled]="pEditable == 0" />
            </div>


          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="clasificacioninversioncdetalle" class="ui-outputlabel">Clasificación</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="clasificacioninversioncdetalle" name="clasificacioninversioncdetalle" [options]="this.inversionesServicios.ptClasificacion"
                [(ngModel)]="this.pInstrumento[0].clasificacioninversioncdetalle" [disabled]="pEditable == 0"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="bolsavalorescdetalle" class="ui-outputlabel">Bolsa de Valores</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <p-dropdown id="bolsavalorescdetalle" name="bolsavalorescdetalle" [options]="this.inversionesServicios.ptBolsaValores" [(ngModel)]="this.inversionesServicios.pBolsavalorescdetalle"
                (ngModelChange)="this.contabilizaBolsaValores()" required [disabled]="pEditable == 0"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="casavalorescdetalle" class="ui-outputlabel">Casa de Valores</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <p-dropdown id="casavalorescdetalle" name="casavalorescdetalle" [options]="this.inversionesServicios.ptCasaValores" [(ngModel)]="this.pInstrumento[0].casavalorescdetalle"
                [disabled]="pEditable == 0"></p-dropdown>
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="calificacionriesgoinicialcdetalle" class="ui-outputlabel">Calificación de Riesgo Inicial</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <p-dropdown id="calificacionriesgoinicialcdetalle" name="calificacionriesgoinicialcdetalle" [options]="this.inversionesServicios.ptRiesgo"
                [(ngModel)]="this.pInstrumento[0].calificacionriesgoinicialcdetalle" [disabled]="pEditable == 0"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="fpkccuenta" class="ui-outputlabel required">Contacto Casa de Valores</label>
            </div>
            <div class="ui-g-2 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input id="fpkccuenta" name="fpkccuenta" type="text" pInputText [(ngModel)]="this.inversionesServicios.pCinvagentebolsa"
                required readonly />
            </div>

            <div class="ui-g-9 ui-md-2" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id="fncuenta" name="fncuenta" [(ngModel)]="this.inversionesServicios.pRazonSocialAgente" [disabled]="true"
              />
            </div>
            <div class="ui-g-1 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <button pButton type="button" id="lovagentebolsa" name="lovagentebolsa" (click)="mostrarLovAgentesBolsa()" [disabled]="pEditable == 0"
                icon="ui-icon-directions">
              </button>
            </div>
            <app-lov-agentesbolsa (eventoCliente)=fijarLovAgentesBolsaSelect($event)></app-lov-agentesbolsa>


          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="femision" class="ui-outputlabel required">Fecha de Emisión</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-calendar id="femision" name="femision" [(ngModel)]="this.inversionesServicios.pFemision" [showIcon]="true" [locale]="es"
                [disabled]="pEditable == 0 || (this.inversionesServicios.tieneTablaPagos() && this.inversionesServicios.pEstadocdetalle != 'ING')"
                required [dateFormat]="formatofecha" (ngModelChange)="this.fechaVencimiento()"></p-calendar>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título' && this.inversionesServicios.pstrInstrumentoCLegal != 'PC'">
              <label for="fcompra" class="ui-outputlabel required">Fecha de Compra</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título' && this.inversionesServicios.pstrInstrumentoCLegal != 'PC'">
              <p-calendar id="fcompra" name="fcompra" [(ngModel)]="this.inversionesServicios.pFcompra" [showIcon]="true" [locale]="es"
                [disabled]="pEditable == 0 || (this.inversionesServicios.tieneTablaPagos() && this.inversionesServicios.pEstadocdetalle != 'ING')"
                required [dateFormat]="formatofecha"></p-calendar>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.inversionesServicios.escash()">
              <label for="fultimacompra" class="ui-outputlabel">Fecha Última Compra</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.inversionesServicios.escash()">
              <p-calendar id="fultimacompra" name="fultimacompra" [(ngModel)]="this.pInstrumento[0].fultimacompra" [showIcon]="true" [locale]="es"
                [disabled]="pEditable == 0" [dateFormat]="formatofecha"></p-calendar>
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="bancocdetalle" class="ui-outputlabel required">Transferencia</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="bancocdetalle" name="bancocdetalle" [options]="this.inversionesServicios.ptBancoPago" [(ngModel)]="this.inversionesServicios.pBancopagocdetalle"
                required [disabled]="pEditable == 0"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="estadocdetalle" class="ui-outputlabel required">Estado</label>
            </div>
            <div class="ui-g-12 ui-md-2">
              <p-dropdown id="estadocdetalle" name="estadocdetalle" [options]="this.inversionesServicios.ptEstado" [(ngModel)]="this.inversionesServicios.pEstadocdetalle"
                required [disabled]="true"></p-dropdown>
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="observacionesA" class="ui-outputlabel required">Observaciones</label>
            </div>
            <div class="ui-g-12 ui-md-4">
              <input type="text" pInputText id="observacionesA" name="observacionesA" [(ngModel)]="this.pInstrumento[0].observaciones"
                required [disabled]="pEditable == 0" />
            </div>

          </div>
        </div>
      </div>
    </p-accordionTab>
    <p-accordionTab header="Datos de la operación">

      <div class="f-contenedor-transaccion" *ngIf="this.pTasaclasificacioncdetalle == 'VAR'">
        <div class="f-datacontent ui-g ui-fluid">

          <div class="ui-g-12 ui-g-nopad">
            <div class="ui-g-12 ui-md-1">
              <label for="valoracciones" class="ui-outputlabel required">Valor Acciones</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valoracciones name="valoracciones" [(ngModel)]="this.pInstrumento[0].valoracciones" numeroDecimal7
                maxlength="20" [disabled]="pEditable == 0" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="preciounitarioaccion" class="ui-outputlabel  required">Precio Unitario</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=preciounitarioaccion name="preciounitarioaccion" [(ngModel)]="this.pInstrumento[0].preciounitarioaccion"
                numeroDecimal7 maxlength="20" [disabled]="pEditable == 0" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="preciocompra" class="ui-outputlabel  required">Precio de Compra</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=preciocompra name="preciocompra" [(ngModel)]="this.pInstrumento[0].preciocompra" numeroDecimal7
                maxlength="20" [disabled]="pEditable == 0" (ngModelChange)="calcularInteresFijo()" />
            </div>

          </div>



          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="valordividendospagados" class="ui-outputlabel">Dividendos Pagados</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valordividendospagados name="valordividendospagados" [(ngModel)]="this.pInstrumento[0].valordividendospagados"
                numero maxlength="14" [disabled]="pEditable == 0" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="porcentajeparticipacioncupon" class="ui-outputlabel required">% Participación</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=porcentajeparticipacioncupon name="porcentajeparticipacioncupon" [(ngModel)]="this.pInstrumento[0].porcentajeparticipacioncupon"
                numero maxlength="14" [disabled]="pEditable == 0" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="numeroacciones" class="ui-outputlabel required">Número de Acciones</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=numeroacciones name="numeroacciones" [(ngModel)]="this.pInstrumento[0].numeroacciones" numero
                maxlength="14" [disabled]="pEditable == 0" />
            </div>

          </div>


        </div>
      </div>


      <div class="f-contenedor-transaccion" *ngIf="this.inversionesServicios.pstrInstrumentoCLegal == 'PC'">
        <div class="f-datacontent ui-g ui-fluid">

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="valornominalA" class="ui-outputlabel required">Valor Nominal</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valornominalA name="valornominalA" [(ngModel)]="this.pInstrumento[0].valornominal" numero
                maxlength="14" [disabled]="pEditable == 0" (ngModelChange)="calcularInteresFijo()" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="tasaA" class="ui-outputlabel required">Tasa</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id="tasaA" name="tasaA" [(ngModel)]="this.inversionesServicios.pTasa" numeroDecimal7 maxlength="14"
                [disabled]="pEditable == 0" (ngModelChange)="calcularInteresFijo()" required/>
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="iplazo" class="ui-outputlabel">Plazo</label>
            </div>
            <div class="ui-g-12 ui-md-2">
              <input type="text" pInputText id="iplazo" name="iplazo" [(ngModel)]="this.pInstrumento[0].plazo" maxlength="10" entero [disabled]="pEditable == 0"
                (ngModelChange)="calcularInteresFijo()" />
            </div>
            <div class="ui-g-12 ui-md-1">
              <label for="iplazo" class="ui-outputlabel">días</label>
            </div>


          </div>

          <div class="ui-g-12 ui-md-1">
            <label for="fvencimientoA" class="ui-outputlabel">Fecha Vencimiento</label>
          </div>
          <div class="ui-g-12 ui-md-3">
            <p-calendar id="fvencimientoA" name="fvencimientoA" [(ngModel)]="this.inversionesServicios.pFvencimiento" [showIcon]="true"
              [locale]="es" [disabled]="true" [dateFormat]="formatofecha"></p-calendar>
          </div>



        </div>
      </div>


      <div class="f-datacontent ui-g ui-fluid">
        <div class="f-contenedor-transaccion" *ngIf="this.pTasaclasificacioncdetalle == 'FIJA' && ((this.inversionesServicios.tieneTablaPagos() && this.inversionesServicios.pEstadocdetalle == 'ING') || (this.inversionesServicios.pstrInstrumentoCLegal == 'CDP' || this.inversionesServicios.pInstrumentocdetalle == 'BONO' || this.inversionesServicios.pInstrumentocdetalle == 'BONEST' || this.inversionesServicios.pInstrumentocdetalle == 'CASHEQ' || this.inversionesServicios.pInstrumentocdetalle == 'CASHFP' || this.inversionesServicios.pInstrumentocdetalle == 'CASHFS'))">


          <div class="ui-g-12 ui-g-nopad">
            <div class="ui-g-12 ui-md-1">
              <label for="valornominalB" class="ui-outputlabel required">Valor Nominal</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valornominalB name="valornominalB" [(ngModel)]="this.pInstrumento[0].valornominal" numero
                maxlength="14" [disabled]="pEditable == 0" (blur)="calcularSinTabla()" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="fultimopagoB" class="ui-outputlabel required">Fecha Valor</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <p-calendar id="fultimopagoB" name="fultimopagoB" [(ngModel)]="this.inversionesServicios.pFultimopago" [showIcon]="true"
                [locale]="es" [disabled]="pEditable == 0" required [dateFormat]="formatofecha" (ngModelChange)="calcularSinTabla()"></p-calendar>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="plazorealxvencerB" class="ui-outputlabel required">Plazo</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <input type="text" pInputText id="plazorealxvencerB" name="plazorealxvencerB" [(ngModel)]="this.inversionesServicios.pPlazoxvencer"
                maxlength="10" entero [disabled]="pEditable == 0" (blur)="calcularSinTabla()" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="yieldB" class="ui-outputlabel required">Yield (Rendimiento)</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <input type="text" pInputText id=yieldB name="yieldB" [(ngModel)]="this.inversionesServicios.pYield" numeroDecimal7 maxlength="14"
                [disabled]="pEditable == 0" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="fvencimientoB" class="ui-outputlabel">Fecha Vencimiento</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <p-calendar id="fvencimientoB" name="fvencimientoB" [(ngModel)]="this.inversionesServicios.pFvencimiento" [showIcon]="true"
                [locale]="es" [disabled]="true" [dateFormat]="formatofecha"></p-calendar>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="tasaB" class="ui-outputlabel required">Tasa</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <input type="text" pInputText id="tasaB" name="tasaB" [(ngModel)]="this.inversionesServicios.pTasa" numeroDecimal7 maxlength="14"
                [disabled]="pEditable == 0" (blur)="calcularSinTabla()" required/>
            </div>


          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1">
              <label for="calendarizacioncdetalleB" class="ui-outputlabel required">Base para Tasa de Interés</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="calendarizacioncdetalleB" name="calendarizacioncdetalleB" [options]="this.inversionesServicios.ptCalendarizacion"
                [(ngModel)]="this.inversionesServicios.pCalendarizacioncdetalle" [disabled]="pEditable == 0" (ngModelChange)="calcularSinTabla()"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pTasaclasificacioncdetalle == 'FIJA'">
              <label for="porcentajecalculoprecioB" class="ui-outputlabel required">% Cálculo en Base al Precio</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pTasaclasificacioncdetalle == 'FIJA'">
              <input type="text" pInputText id=porcentajecalculoprecioB name="porcentajecalculoprecioB" [(ngModel)]="this.inversionesServicios.pPorcentajecalculoprecio"
                numeroDecimal15 maxlength="19" [disabled]="pEditable == 0" (blur)="calcularSinTabla()" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="valornegociacionB" class="ui-outputlabel ">Valor Negociación</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valornegociacionB name="valornegociacionB" [(ngModel)]="this.inversionesServicios.pValornegociacion"
                numero maxlength="14" [disabled]="true" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="this.inversionesServicios.escash()">
              <label for="diasporvencerafechacompraB" class="ui-outputlabel ">Días por Vencer a la Fecha de Compra</label>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.inversionesServicios.esBono()">
              <label for="valorefectivoB" class="ui-outputlabel required">Valor Efectivo</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.inversionesServicios.esBono()">
              <input type="text" pInputText id=valorefectivoB name="valorefectivoB" [(ngModel)]="this.pInstrumento[0].valorefectivo" numero
                maxlength="14" [disabled]="pEditable == 0" />
            </div>


            <div class="ui-g-12 ui-md-1" *ngIf="this.inversionesServicios.escash()">
              <label for="diasporvencerafechacompraB" class="ui-outputlabel ">Días por Vencer a la Fecha de Compra</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.inversionesServicios.escash()">
              <input type="text" pInputText id=diasporvencerafechacompraB name="diasporvencerafechacompraB" [(ngModel)]="this.pInstrumento[0].diasporvencerafechacompra"
                entero maxlength="7" [disabled]="true" />
            </div>

          </div>


          <div class="ui-g-12 ui-g-nopad">
            <div class="title_separator">
              <i class="fa ui-icon-adjust"></i>
              <span>Intereses</span>
            </div>
            <hr />
          </div>


          <div class="ui-g-12 ui-g-nopad">
            <div class="ui-g-12 ui-md-1">
              <label for="interesnominaldiasB" class="ui-outputlabel ">Días Valor Nominal para el Interés</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=interesnominaldiasB name="interesnominaldiasB" [(ngModel)]="this.inversionesServicios.pInteresnominaldias"
                entero maxlength="7" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="interesnominalvalorB" class="ui-outputlabel ">Interés en Base al Valor Nominal</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=interesnominalvalorB name="interesnominalvalorB" [(ngModel)]="this.inversionesServicios.pInteres"
                numero maxlength="14" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="interestranscurridodiasB" class="ui-outputlabel ">Días Transcurridos para el Interés</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id=interestranscurridodiasB name="interestranscurridodiasB" [(ngModel)]="this.inversionesServicios.pInterestranscurridodias"
                entero maxlength="7" [disabled]="true" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="interestranscurridoB" class="ui-outputlabel ">Interés Transcurrido</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id=interestranscurridoB name="interestranscurridoB" [(ngModel)]="this.inversionesServicios.pinterestranscurrido"
                numero maxlength="14" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="diasporvencerB" class="ui-outputlabel ">Días por Vencer</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=diasporvencerB name="diasporvencerB" [(ngModel)]="this.inversionesServicios.pDiasporvencer"
                entero maxlength="7" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="valorporvencerB" class="ui-outputlabel ">Interés por Vencer</label>
            </div>
            <div class="ui-g-12 ui-md-3">

              <input type="text" pInputText id=valorporvencerB name="valorporvencerB" [(ngModel)]="this.inversionesServicios.pInteresporvencer"
                numero maxlength="14" [disabled]="true" />

            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">



            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="valordescuentoB" class="ui-outputlabel ">Valor Descuento</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id=valordescuentoB name="valordescuentoB" [(ngModel)]="this.inversionesServicios.pValordescuento"
                numero maxlength="14" [disabled]="true" />
            </div>

          </div>


        </div>

        <div class="ui-g-12 ui-g-nopad">
          <div class="title_separator">
            <i class="fa ui-icon-adjust"></i>
            <span>Reajuste</span>
          </div>
          <hr />
        </div>

        <div class="ui-g-12 ui-g-nopad">


          <div class="ui-g-12 ui-md-1">
            <label for="fsistema" class="ui-outputlabel">Fecha</label>
          </div>
          <div class="ui-g-12 ui-md-3">
            <p-calendar id="fsistema" name="fsistema" [(ngModel)]="mcampos.fechaSistema" [showIcon]="true" [locale]="es" [disabled]="true"
              required [dateFormat]="formatofecha" readonly></p-calendar>
          </div>


          <div class="ui-g-12 ui-md-1">
            <label for="interestranscurridodias1" class="ui-outputlabel ">Días por Vencer</label>
          </div>
          <div class="ui-g-12 ui-md-3">
            <input type="text" pInputText id=interestranscurridodias1 name="interestranscurridodias1" [(ngModel)]="mcampos.reajustediasxvencer"
              entero maxlength="7" [disabled]="true" readonly />
          </div>

          <div class="ui-g-12 ui-md-1">
            <label for="interesreajuste" class="ui-outputlabel">Interés</label>
          </div>
          <div class="ui-g-12 ui-md-3">
            <input type="text" pInputText id=interesreajuste name="interesreajuste" [(ngModel)]="mcampos.reajusteinteres" numero maxlength="20"
              [disabled]="true" readonly />
          </div>

        </div>




      </div>

      <div class="f-contenedor-transaccion" *ngIf="this.inversionesServicios.pEstadocdetalle != 'ING' && this.pTasaclasificacioncdetalle == 'FIJA' && this.inversionesServicios.pstrInstrumentoCLegal != 'PC' && this.inversionesServicios.pstrInstrumentoCLegal != 'CDP' && this.inversionesServicios.pInstrumentocdetalle != 'BONO' && this.inversionesServicios.pInstrumentocdetalle != 'BONEST' && this.inversionesServicios.pInstrumentocdetalle != 'CASHEQ' && this.inversionesServicios.pInstrumentocdetalle != 'CASHFP' && this.inversionesServicios.pInstrumentocdetalle != 'CASHFS'">

        <div class="f-datacontent ui-g ui-fluid">

          <div class="ui-g-12 ui-g-nopad">
            <div class="ui-g-12 ui-md-1">
              <label for="valornominal" class="ui-outputlabel required">Valor Nominal</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valornominal name="valornominal" [(ngModel)]="this.pInstrumento[0].valornominal" numero
                maxlength="14" [disabled]="true" (ngModelChange)="calcularInteres()" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="fultimopago" class="ui-outputlabel">Fecha Valor</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-calendar id="fultimopago" name="fultimopago" [(ngModel)]="this.inversionesServicios.pFultimopago" [showIcon]="true" [locale]="es"
                [disabled]="true" required [dateFormat]="formatofecha" (ngModelChange)="construirTabla()"></p-calendar>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="fvencimiento" class="ui-outputlabel">Fecha Vencimiento</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <p-calendar id="fvencimiento" name="fvencimiento" [(ngModel)]="this.inversionesServicios.pFvencimiento" [showIcon]="true"
                [locale]="es" [disabled]="true" [dateFormat]="formatofecha"></p-calendar>
            </div>


          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="yield" class="ui-outputlabel ">Yield (Rendimiento)</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <input type="text" pInputText id=yield name="yield" [(ngModel)]="this.inversionesServicios.pYield" numeroDecimal7 maxlength="14"
                [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pTasaclasificacioncdetalle == 'FIJA'">
              <label for="porcentajecalculoprecio" class="ui-outputlabel ">% Cálculo en Base al Precio</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pTasaclasificacioncdetalle == 'FIJA'">
              <input type="text" pInputText id=porcentajecalculoprecio name="porcentajecalculoprecio" [(ngModel)]="this.inversionesServicios.pPorcentajecalculoprecio"
                numeroDecimal15 maxlength="19" [disabled]="true" (ngModelChange)="calcularEnBase()" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="valornegociacion" class="ui-outputlabel ">Valor Negociación</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=valornegociacion name="valornegociacion" [(ngModel)]="this.inversionesServicios.pValornegociacion"
                numero maxlength="14" [disabled]="true" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="tasa" class="ui-outputlabel required">TasaB</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <input type="text" pInputText id="tasa" name="tasa" [(ngModel)]="this.inversionesServicios.pTasa" numeroDecimal7 maxlength="14"
                [disabled]="true" (ngModelChange)="calcularInteres()" required/>
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="calendarizacioncdetalle" class="ui-outputlabel">Base para Tasa de Interés</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <p-dropdown id="calendarizacioncdetalle" name="calendarizacioncdetalle" [options]="this.inversionesServicios.ptCalendarizacion"
                [(ngModel)]="this.inversionesServicios.pCalendarizacioncdetalle" [disabled]="true" (ngModelChange)="calcularNumeroPagosCapitalInteres()"></p-dropdown>
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.inversionesServicios.esBono()">
              <label for="valorefectivo" class="ui-outputlabel required">Valor Efectivo</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.inversionesServicios.esBono()">
              <input type="text" pInputText id=valorefectivo name="valorefectivo" [(ngModel)]="this.pInstrumento[0].valorefectivo" numero
                maxlength="14" [disabled]="pEditable == 0" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="this.inversionesServicios.escash()">
              <label for="diasporvencerafechacompra" class="ui-outputlabel ">Días por Vencer a la Fecha de Compra</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.inversionesServicios.escash()">
              <input type="text" pInputText id=diasporvencerafechacompra name="diasporvencerafechacompra" [(ngModel)]="this.pInstrumento[0].diasporvencerafechacompra"
                entero maxlength="7" [disabled]="true" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">
            <div class="title_separator">
              <i class="fa ui-icon-adjust"></i>
              <span>Intereses</span>
            </div>
            <hr />
          </div>


          <div class="ui-g-12 ui-g-nopad">
            <div class="ui-g-12 ui-md-1">
              <label for="interesnominaldias" class="ui-outputlabel ">Días Valor Nominal para el Interés</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=interesnominaldias name="interesnominaldias" [(ngModel)]="this.inversionesServicios.pInteresnominaldias"
                entero maxlength="7" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="interesnominalvalor" class="ui-outputlabel ">Interés en Base al Valor Nominal</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=interesnominalvalor name="interesnominalvalor" [(ngModel)]="this.inversionesServicios.pInteres"
                numero maxlength="14" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="interestranscurridodias" class="ui-outputlabel ">Días Transcurridos para el Interés</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id=interestranscurridodias name="interestranscurridodias" [(ngModel)]="this.inversionesServicios.pInterestranscurridodias"
                entero maxlength="7" [disabled]="true" />
            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="interestranscurrido" class="ui-outputlabel ">Interés Transcurrido</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id=interestranscurrido name="interestranscurrido" [(ngModel)]="this.inversionesServicios.pinterestranscurrido"
                numero maxlength="14" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="diasporvencer" class="ui-outputlabel ">Días por Vencer</label>
            </div>
            <div class="ui-g-12 ui-md-3">
              <input type="text" pInputText id=diasporvencer name="diasporvencer" [(ngModel)]="this.inversionesServicios.pDiasporvencer"
                entero maxlength="7" [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1">
              <label for="valorporvencer" class="ui-outputlabel ">Interés por Vencer</label>
            </div>
            <div class="ui-g-12 ui-md-3">

              <input type="text" pInputText id=valorporvencer name="valorporvencer" [(ngModel)]="this.inversionesServicios.pInteresporvencer"
                numero maxlength="14" [disabled]="true" />

            </div>

          </div>

          <div class="ui-g-12 ui-g-nopad">


            <div class="ui-g-12 ui-md-1" *ngIf="!this.inversionesServicios.escash()">
              <label for="plazorealxvencer" class="ui-outputlabel">Plazo Real por Vencer</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="!this.inversionesServicios.escash()">
              <input type="text" pInputText id="plazorealxvencer" name="plazorealxvencer" [(ngModel)]="this.inversionesServicios.pPlazoxvencer"
                maxlength="10" entero [disabled]="true" />
            </div>

            <div class="ui-g-12 ui-md-1" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <label for="valordescuento" class="ui-outputlabel ">Valor Descuento</label>
            </div>
            <div class="ui-g-12 ui-md-3" *ngIf="this.pCodigoTitulo == 'Código Título'">
              <input type="text" pInputText id=valordescuento name="valordescuento" [(ngModel)]="this.inversionesServicios.pValordescuento"
                numero maxlength="14" [disabled]="true" />
            </div>

          </div>




        </div>
      </div>

    </p-accordionTab>

    

  </p-accordion>
</form>